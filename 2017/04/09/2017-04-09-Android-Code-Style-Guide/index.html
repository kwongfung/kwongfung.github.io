<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Android," />





  <link rel="alternate" href="/atom.xml" title="Guangfeng's Blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="This is Android Code Style for Contributors.The code styles below are strict rules, not guidelines or recommendations. Contributions to Android that do not adhere to these rules are generally not acce">
<meta name="keywords" content="Android">
<meta property="og:type" content="article">
<meta property="og:title" content="Android Code Style Guide">
<meta property="og:url" content="http://yoursite.com/2017/04/09/2017-04-09-Android-Code-Style-Guide/index.html">
<meta property="og:site_name" content="Guangfeng&#39;s Blog">
<meta property="og:description" content="This is Android Code Style for Contributors.The code styles below are strict rules, not guidelines or recommendations. Contributions to Android that do not adhere to these rules are generally not acce">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-04-09T03:28:09.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android Code Style Guide">
<meta name="twitter:description" content="This is Android Code Style for Contributors.The code styles below are strict rules, not guidelines or recommendations. Contributions to Android that do not adhere to these rules are generally not acce">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/04/09/2017-04-09-Android-Code-Style-Guide/"/>





  <title> Android Code Style Guide | Guangfeng's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?112d3c8ad52be5be59465d08997a5933";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Guangfeng's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/09/2017-04-09-Android-Code-Style-Guide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Guangfeng Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Guangfeng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Android Code Style Guide
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-09T10:56:14+08:00">
                2017-04-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>This is <a href="https://source.android.com/source/code-style.html" target="_blank" rel="external">Android Code Style for Contributors</a>.<br>The code styles below are strict rules, not guidelines or recommendations. Contributions to Android that do not adhere to these rules are generally not accepted. We recognize that not all existing code follows these rules, but we expect all new code to be compliant.</p>
<h2 id="Java-Language-Rules"><a href="#Java-Language-Rules" class="headerlink" title="Java Language Rules"></a>Java Language Rules</h2><p>Android follows standard Java coding conventions with the additional rules described below.</p>
<h3 id="Don’t-Ignore-Exceptions"><a href="#Don’t-Ignore-Exceptions" class="headerlink" title="Don’t Ignore Exceptions"></a>Don’t Ignore Exceptions</h3><p>It can be tempting to write code that completely ignores an exception, such as:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">setServerPort</span><span class="params">(String value)</span> </span>&#123;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        serverPort = Integer.parseInt(value);</div><div class="line">    &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123; &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Do not do this. While you may think your code will never encounter this error condition or that it is not important to handle it, ignoring exceptions as above creates mines in your code for someone else to trigger some day. You must handle every Exception in your code in a principled way; the specific handling varies depending on the case.<br>Anytime somebody has an empty catch clause they should have a creepy feeling. There are definitely times when it is actually the correct thing to do, but at least you have to think about it. In Java you can’t escape the creepy feeling. -<a href="http://www.artima.com/intv/solid4.html" target="_blank" rel="external">James Gosling</a><br>Acceptable alternatives (in order of preference) are:</p>
<ul>
<li><p>Throw the exception up to the caller of your method.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">setServerPort</span><span class="params">(String value)</span> <span class="keyword">throws</span> NumberFormatException </span>&#123;</div><div class="line">    serverPort = Integer.parseInt(value);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Throw a new exception that’s appropriate to your level of abstraction.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">setServerPort</span><span class="params">(String value)</span> <span class="keyword">throws</span> ConfigurationException </span>&#123;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        serverPort = Integer.parseInt(value);</div><div class="line">    &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> ConfigurationException(<span class="string">"Port "</span> + value + <span class="string">" is not valid."</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Handle the error gracefully and substitute an appropriate value in the catch {} block.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/** Set port. If value is not a valid number, 80 is substituted. */</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">setServerPort</span><span class="params">(String value)</span> </span>&#123;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        serverPort = Integer.parseInt(value);</div><div class="line">    &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</div><div class="line">        serverPort = <span class="number">80</span>;  <span class="comment">// default port for server</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Catch the Exception and throw a new <code>RuntimeException</code>. This is dangerous, so do it only if you are positive that if this error occurs the appropriate thing to do is crash.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/** Set port. If value is not a valid number, die. */</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">setServerPort</span><span class="params">(String value)</span> </span>&#123;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        serverPort = Integer.parseInt(value);</div><div class="line">    &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"port "</span> + value <span class="string">" is invalid, "</span>, e);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>Note The original exception is passed to the constructor for RuntimeException. If your code must compile under Java 1.3, you must omit the exception that is the cause.</p>
</blockquote>
</li>
</ul>
<ul>
<li><p>As a last resort, if you are confident that ignoring the exception is appropriate then you may ignore it, but you must also comment why with a good reason:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/** If value is not a valid number, original port number is used. */</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">setServerPort</span><span class="params">(String value)</span> </span>&#123;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        serverPort = Integer.parseInt(value);</div><div class="line">    &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</div><div class="line">        <span class="comment">// Method is documented to just ignore invalid user input.</span></div><div class="line">        <span class="comment">// serverPort will just be unchanged.</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Don’t-Catch-Generic-Exception"><a href="#Don’t-Catch-Generic-Exception" class="headerlink" title="Don’t Catch Generic Exception"></a>Don’t Catch Generic Exception</h3><p>It can also be tempting to be lazy when catching exceptions and do something like this:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">    someComplicatedIOFunction();        <span class="comment">// may throw IOException</span></div><div class="line">    someComplicatedParsingFunction();   <span class="comment">// may throw ParsingException</span></div><div class="line">    someComplicatedSecurityFunction();  <span class="comment">// may throw SecurityException</span></div><div class="line">    <span class="comment">// phew, made it all the way</span></div><div class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;                 <span class="comment">// I'll just catch all exceptions</span></div><div class="line">    handleError();                      <span class="comment">// with one generic handler!</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Do not do this. In almost all cases it is inappropriate to catch generic Exception or Throwable (preferably not Throwable because it includes Error exceptions). It is very dangerous because it means that Exceptions you never expected (including RuntimeExceptions like ClassCastException) get caught in application-level error handling. It obscures the failure handling properties of your code, meaning if someone adds a new type of Exception in the code you’re calling, the compiler won’t help you realize you need to handle the error differently. In most cases you shouldn’t be handling different types of exception the same way.<br>The rare exception to this rule is test code and top-level code where you want to catch all kinds of errors (to prevent them from showing up in a UI, or to keep a batch job running). In these cases you may catch generic Exception (or Throwable) and handle the error appropriately. Think very carefully before doing this, though, and put in comments explaining why it is safe in this place.<br>Alternatives to catching generic Exception:</p>
<ul>
<li>Catch each exception separately as separate catch blocks after a single try. This can be awkward but is still preferable to catching all Exceptions. Beware repeating too much code in the catch blocks.</li>
<li>Refactor your code to have more fine-grained error handling, with multiple try blocks. Split up the IO from the parsing, handle errors separately in each case.</li>
<li>Rethrow the exception. Many times you don’t need to catch the exception at this level anyway, just let the method throw it.<br>Remember: exceptions are your friend! When the compiler complains you’re not catching an exception, don’t scowl. Smile: the compiler just made it easier for you to catch runtime problems in your code.</li>
</ul>
<h3 id="Don’t-Use-Finalizers"><a href="#Don’t-Use-Finalizers" class="headerlink" title="Don’t Use Finalizers"></a>Don’t Use Finalizers</h3><p>Finalizers are a way to have a chunk of code executed when an object is garbage collected. While they can be handy for doing cleanup (particularly of external resources), there are no guarantees as to when a finalizer will be called (or even that it will be called at all).<br>Android doesn’t use finalizers. In most cases, you can do what you need from a finalizer with good exception handling. If you absolutely need it, define a close() method (or the like) and document exactly when that method needs to be called (see InputStream for an example). In this case it is appropriate but not required to print a short log message from the finalizer, as long as it is not expected to flood the logs.</p>
<h3 id="Fully-Qualify-Imports"><a href="#Fully-Qualify-Imports" class="headerlink" title="Fully Qualify Imports"></a>Fully Qualify Imports</h3><p>When you want to use class Bar from package foo,there are two possible ways to import it:</p>
<ul>
<li><code>import foo.*;</code><br>  Potentially reduces the number of import statements.</li>
<li><code>import foo.Bar;</code><br>  Makes it obvious what classes are actually used and the code is more readable for maintainers.<br>Use <code>import foo.Bar;</code> for importing all Android code. An explicit exception is made for java standard libraries (<code>java.util.*</code>, <code>java.io.*</code>, etc.) and unit test code (<code>junit.framework.*</code>).</li>
</ul>
<h2 id="Java-Library-Rules"><a href="#Java-Library-Rules" class="headerlink" title="Java Library Rules"></a>Java Library Rules</h2><p>There are conventions for using Android’s Java libraries and tools. In some cases, the convention has changed in important ways and older code might use a deprecated pattern or library. When working with such code, it’s okay to continue the existing style. When creating new components however, never use deprecated libraries.</p>
<h2 id="Java-Style-Rules"><a href="#Java-Style-Rules" class="headerlink" title="Java Style Rules"></a>Java Style Rules</h2><h3 id="Use-Javadoc-Standard-Comments"><a href="#Use-Javadoc-Standard-Comments" class="headerlink" title="Use Javadoc Standard Comments"></a>Use Javadoc Standard Comments</h3><p>Every file should have a copyright statement at the top, followed by package and import statements (each block separated by a blank line) and finally the class or interface declaration. In the Javadoc comments, describe what the class or interface does.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"> * Copyright (C) 2015 The Android Open Source Project</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * Licensed under the Apache License, Version 2.0 (the "License");</span></div><div class="line"><span class="comment"> * you may not use this file except in compliance with the License.</span></div><div class="line"><span class="comment"> * You may obtain a copy of the License at</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> *      http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><span class="comment"> * distributed under the License is distributed on an "AS IS" BASIS,</span></div><div class="line"><span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><span class="comment"> * See the License for the specific language governing permissions and</span></div><div class="line"><span class="comment"> * limitations under the License.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"></div><div class="line"><span class="keyword">package</span> com.android.internal.foo;</div><div class="line"></div><div class="line"><span class="keyword">import</span> android.os.Blah;</div><div class="line"><span class="keyword">import</span> android.view.Yada;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.sql.ResultSet;</div><div class="line"><span class="keyword">import</span> java.sql.SQLException;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * Does X and Y and provides an abstraction for Z.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Every class and nontrivial public method you write must contain a Javadoc comment with at least one sentence describing what the class or method does. This sentence should start with a third person descriptive verb.<br>Examples:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/** Returns the correctly rounded positive square root of a double value. */</span></div><div class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">double</span> <span class="title">sqrt</span><span class="params">(<span class="keyword">double</span> a)</span> </span>&#123;</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Or<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * Constructs a new String by converting the specified array of</span></div><div class="line"><span class="comment"> * bytes using the platform's default character encoding.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">String</span><span class="params">(<span class="keyword">byte</span>[] bytes)</span> </span>&#123;</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>You do not need to write Javadoc for trivial get and set methods such as setFoo() if all your Javadoc would say is “sets Foo”. If the method does something more complex (such as enforcing a constraint or has an important side effect), then you must document it. If it’s not obvious what the property “Foo” means, you should document it.<br>Every method you write, public or otherwise, would benefit from Javadoc. Public methods are part of an API and therefore require Javadoc. Android does not currently enforce a specific style for writing Javadoc comments, but you should follow the instructions <a href="http://www.oracle.com/technetwork/java/javase/documentation/index-137868.html" target="_blank" rel="external">How to Write Doc Comments for the Javadoc Tool</a>.</p>
<h3 id="Write-Short-Methods"><a href="#Write-Short-Methods" class="headerlink" title="Write Short Methods"></a>Write Short Methods</h3><p>When feasible, keep methods small and focused. We recognize that long methods are sometimes appropriate, so no hard limit is placed on method length. If a method exceeds 40 lines or so, think about whether it can be broken up without harming the structure of the program.</p>
<h3 id="Define-Fields-in-Standard-Places"><a href="#Define-Fields-in-Standard-Places" class="headerlink" title="Define Fields in Standard Places"></a>Define Fields in Standard Places</h3><p>Define fields either at the top of the file or immediately before the methods that use them.</p>
<h3 id="Limit-Variable-Scope"><a href="#Limit-Variable-Scope" class="headerlink" title="Limit Variable Scope"></a>Limit Variable Scope</h3><p>Keep the scope of local variables to a minimum. By doing so, you increase the readability and maintainability of your code and reduce the likelihood of error. Each variable should be declared in the innermost block that encloses all uses of the variable.<br>Local variables should be declared at the point they are first used. Nearly every local variable declaration should contain an initializer. If you don’t yet have enough information to initialize a variable sensibly, postpone the declaration until you do.<br>The exception is try-catch statements. If a variable is initialized with the return value of a method that throws a checked exception, it must be initialized inside a try block. If the value must be used outside of the try block, then it must be declared before the try block, where it cannot yet be sensibly initialized:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Instantiate class cl, which represents some sort of Set</span></div><div class="line">Set s = <span class="keyword">null</span>;</div><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">    s = (Set) cl.newInstance();</div><div class="line">&#125; <span class="keyword">catch</span>(IllegalAccessException e) &#123;</div><div class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(cl + <span class="string">" not accessible"</span>);</div><div class="line">&#125; <span class="keyword">catch</span>(InstantiationException e) &#123;</div><div class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(cl + <span class="string">" not instantiable"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Exercise the set</span></div><div class="line">s.addAll(Arrays.asList(args));</div></pre></td></tr></table></figure></p>
<p>However, even this case can be avoided by encapsulating the try-catch block in a method:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function">Set <span class="title">createSet</span><span class="params">(Class cl)</span> </span>&#123;</div><div class="line">    <span class="comment">// Instantiate class cl, which represents some sort of Set</span></div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        <span class="keyword">return</span> (Set) cl.newInstance();</div><div class="line">    &#125; <span class="keyword">catch</span>(IllegalAccessException e) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(cl + <span class="string">" not accessible"</span>);</div><div class="line">    &#125; <span class="keyword">catch</span>(InstantiationException e) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(cl + <span class="string">" not instantiable"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line"><span class="comment">// Exercise the set</span></div><div class="line">Set s = createSet(cl);</div><div class="line">s.addAll(Arrays.asList(args));</div></pre></td></tr></table></figure></p>
<p>Loop variables should be declared in the for statement itself unless there is a compelling reason to do otherwise:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">    doSomething(i);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>and<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (Iterator i = c.iterator(); i.hasNext(); ) &#123;</div><div class="line">    doSomethingElse(i.next());</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="Order-Import-Statements"><a href="#Order-Import-Statements" class="headerlink" title="Order Import Statements"></a>Order Import Statements</h3><p>The ordering of import statements is:</p>
<ol>
<li>Android imports</li>
<li>Imports from third parties (<code>com</code>, <code>junit</code>, <code>net</code>, <code>org</code>)</li>
<li><code>java</code> and <code>javax</code><br>To exactly match the IDE settings, the imports should be:</li>
</ol>
<ul>
<li>Alphabetical within each grouping, with capital letters before lower case letters (e.g. Z before a).</li>
<li>Separated by a blank line between each major grouping (<code>android</code>, <code>com</code>, <code>junit</code>, <code>net</code>, <code>org</code>, <code>java</code>, <code>javax</code>).<br>Originally, there was no style requirement on the ordering, meaning IDEs were either always changing the ordering or IDE developers had to disable the automatic import management features and manually maintain the imports. This was deemed bad. When java-style was asked, the preferred styles varied wildly and it came down to Android needing to simply “pick an ordering and be consistent.” So we chose a style, updated the style guide, and made the IDEs obey it. We expect that as IDE users work on the code, imports in all packages will match this pattern without extra engineering effort.<br>This style was chosen such that:</li>
<li>The imports people want to look at first tend to be at the top (<code>android</code>).</li>
<li>The imports people want to look at least tend to be at the bottom (<code>java</code>).</li>
<li>Humans can easily follow the style.</li>
<li>IDEs can follow the style.<br>The use and location of static imports have been mildly controversial issues. Some people prefer static imports to be interspersed with the remaining imports, while some prefer them to reside above or below all other imports. Additionally, we have not yet determined how to make all IDEs use the same ordering. Since many consider this a low priority issue, just use your judgement and be consistent.</li>
</ul>
<h3 id="Use-Spaces-for-Indentation"><a href="#Use-Spaces-for-Indentation" class="headerlink" title="Use Spaces for Indentation"></a>Use Spaces for Indentation</h3><p>We use four (4) space indents for blocks and never tabs. When in doubt, be consistent with the surrounding code.<br>We use eight (8) space indents for line wraps, including function calls and assignments. For example, this is correct:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Instrument i =</div><div class="line">        someLongExpression(that, wouldNotFit, on, one, line);</div></pre></td></tr></table></figure></p>
<p>and this is not correct:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Instrument i =</div><div class="line">    someLongExpression(that, wouldNotFit, on, one, line);</div></pre></td></tr></table></figure></p>
<h3 id="Follow-Field-Naming-Conventions"><a href="#Follow-Field-Naming-Conventions" class="headerlink" title="Follow Field Naming Conventions"></a>Follow Field Naming Conventions</h3><ul>
<li>Non-public, non-static field names start with m.</li>
<li>Static field names start with s.</li>
<li>Other fields start with a lower case letter.</li>
<li>Public static final fields (constants) are ALL_CAPS_WITH_UNDERSCORES.<br>For example:<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> SOME_CONSTANT = <span class="number">42</span>;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> publicField;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> MyClass sSingleton;</div><div class="line">    <span class="keyword">int</span> mPackagePrivate;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mPrivate;</div><div class="line">    <span class="keyword">protected</span> <span class="keyword">int</span> mProtected;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Use-Standard-Brace-Style"><a href="#Use-Standard-Brace-Style" class="headerlink" title="Use Standard Brace Style"></a>Use Standard Brace Style</h3><p>Braces do not go on their own line; they go on the same line as the code before them:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">func</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (something) &#123;</div><div class="line">            <span class="comment">// ...</span></div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (somethingElse) &#123;</div><div class="line">            <span class="comment">// ...</span></div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="comment">// ...</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>We require braces around the statements for a conditional. Exception: If the entire conditional (the condition and the body) fit on one line, you may (but are not obligated to) put it all on one line. For example, this is acceptable:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (condition) &#123;</div><div class="line">    body();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>and this is acceptable:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (condition) body();</div></pre></td></tr></table></figure></p>
<p>but this is not acceptable:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (condition)</div><div class="line">    body();  <span class="comment">// bad!</span></div></pre></td></tr></table></figure></p>
<h3 id="Limit-Line-Length"><a href="#Limit-Line-Length" class="headerlink" title="Limit Line Length"></a>Limit Line Length</h3><p>Each line of text in your code should be at most 100 characters long. While much discussion has surrounded this rule, the decision remains that 100 characters is the maximum with the following exceptions:</p>
<ul>
<li>If a comment line contains an example command or a literal URL longer than 100 characters, that line may be longer than 100 characters for ease of cut and paste.</li>
<li>Import lines can go over the limit because humans rarely see them (this also simplifies tool writing).</li>
</ul>
<h3 id="Use-Standard-Java-Annotations"><a href="#Use-Standard-Java-Annotations" class="headerlink" title="Use Standard Java Annotations"></a>Use Standard Java Annotations</h3><p>Annotations should precede other modifiers for the same language element. Simple marker annotations (e.g. @Override) can be listed on the same line with the language element. If there are multiple annotations, or parameterized annotations, they should each be listed one-per-line in alphabetical order.<br>Android standard practices for the three predefined annotations in Java are:</p>
<ul>
<li><code>@Deprecated</code>: The @Deprecated annotation must be used whenever the use of the annotated element is discouraged. If you use the @Deprecated annotation, you must also have a @deprecated Javadoc tag and it should name an alternate implementation. In addition, remember that a @Deprecated method is still supposed to work. If you see old code that has a @deprecated Javadoc tag, please add the @Deprecated annotation.</li>
<li><code>@Override</code>: The @Override annotation must be used whenever a method overrides the declaration or implementation from a super-class. For example, if you use the @inheritdocs Javadoc tag, and derive from a class (not an interface), you must also annotate that the method @Overrides the parent class’s method.</li>
<li><code>@SuppressWarnings</code>: The @SuppressWarnings annotation should be used only under circumstances where it is impossible to eliminate a warning. If a warning passes this “impossible to eliminate” test, the @SuppressWarnings annotation must be used, so as to ensure that all warnings reflect actual problems in the code. When a @SuppressWarnings annotation is necessary, it must be prefixed with a TODO comment that explains the “impossible to eliminate” condition. This will normally identify an offending class that has an awkward interface. For example:<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// <span class="doctag">TODO:</span> The third-party class com.third.useful.Utility.rotate() needs generics</span></div><div class="line"><span class="meta">@SuppressWarnings</span>(<span class="string">"generic-cast"</span>)</div><div class="line">List&lt;String&gt; blix = Utility.rotate(blax);</div></pre></td></tr></table></figure>
</li>
</ul>
<p>When a @SuppressWarnings annotation is required, the code should be refactored to isolate the software elements where the annotation applies.</p>
<h3 id="Treat-Acronyms-as-Words"><a href="#Treat-Acronyms-as-Words" class="headerlink" title="Treat Acronyms as Words"></a>Treat Acronyms as Words</h3><p>Treat acronyms and abbreviations as words in naming variables, methods, and classes to make names more readable:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Good</th>
<th style="text-align:left">Bad</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">XmlHttpRequest</td>
<td style="text-align:left">XMLHTTPRequest</td>
</tr>
<tr>
<td style="text-align:left">getCustomerId</td>
<td style="text-align:left">getCustomerID</td>
</tr>
<tr>
<td style="text-align:left">class Html</td>
<td style="text-align:left">class HTML</td>
</tr>
<tr>
<td style="text-align:left">String url</td>
<td style="text-align:left">String URL</td>
</tr>
<tr>
<td style="text-align:left">long id</td>
<td style="text-align:left">long ID</td>
</tr>
</tbody>
</table>
<p>As both the JDK and the Android code bases are very inconsistent around acronyms, it is virtually impossible to be consistent with the surrounding code. Therefore, always treat acronyms as words.</p>
<h3 id="Use-TODO-Comments"><a href="#Use-TODO-Comments" class="headerlink" title="Use TODO Comments"></a>Use TODO Comments</h3><p>Use TODO comments for code that is temporary, a short-term solution, or good-enough but not perfect. TODOs should include the string TODO in all caps, followed by a colon:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// <span class="doctag">TODO:</span> Remove this code after the UrlTable2 has been checked in.</span></div></pre></td></tr></table></figure></p>
<p>and<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// <span class="doctag">TODO:</span> Change this to use a flag instead of a constant.</span></div></pre></td></tr></table></figure></p>
<h3 id="Log-Sparingly"><a href="#Log-Sparingly" class="headerlink" title="Log Sparingly"></a>Log Sparingly</h3><p>While logging is necessary, it has a significantly negative impact on performance and quickly loses its usefulness if not kept reasonably terse. The logging facilities provides five different levels of logging:</p>
<ul>
<li><code>ERROR</code>: Use when something fatal has happened, i.e. something will have user-visible consequences and won’t be recoverable without explicitly deleting some data, uninstalling applications, wiping the data partitions or reflashing the entire device (or worse). This level is always logged. Issues that justify some logging at the ERROR level are typically good candidates to be reported to a statistics-gathering server.</li>
<li><code>WARNING</code>: Use when something serious and unexpected happened, i.e. something that will have user-visible consequences but is likely to be recoverable without data loss by performing some explicit action, ranging from waiting or restarting an app all the way to re-downloading a new version of an application or rebooting the device. This level is always logged. Issues that justify some logging at the WARNING level might also be considered for reporting to a statistics-gathering server.</li>
<li><code>INFORMATIVE</code>: Use to note that something interesting to most people happened, i.e. when a situation is detected that is likely to have widespread impact, though isn’t necessarily an error. Such a condition should only be logged by a module that reasonably believes that it is the most authoritative in that domain (to avoid duplicate logging by non-authoritative components). This level is always logged.</li>
<li><code>DEBUG</code>: Use to further note what is happening on the device that could be relevant to investigate and debug unexpected behaviors. You should log only what is needed to gather enough information about what is going on about your component. If your debug logs are dominating the log then you probably should be using verbose logging. This level will be logged, even on release builds, and is required to be surrounded by an <code>if (LOCAL_LOG)</code> or <code>if (LOCAL_LOGD)</code> block, where <code>LOCAL_LOG[D]</code> is defined in your class or subcomponent, so that there can exist a possibility to disable all such logging. There must therefore be no active logic in an <code>if (LOCAL_LOG)</code> block. All the string building for the log also needs to be placed inside the <code>if (LOCAL_LOG)</code> block. The logging call should not be re-factored out into a method call if it is going to cause the string building to take place outside of the <code>if (LOCAL_LOG)</code> block.<br>  There is some code that still says <code>if (localLOGV)</code>. This is considered acceptable as well, although the name is nonstandard.</li>
<li><code>VERBOSE</code>: Use for everything else. This level will only be logged on debug builds and should be surrounded by an <code>if (LOCAL_LOGV)</code> block (or equivalent) so it can be compiled out by default. Any string building will be stripped out of release builds and needs to appear inside the <code>if (LOCAL_LOGV)</code> block.<br>Notes:</li>
<li>Within a given module, other than at the VERBOSE level, an error should only be reported once if possible. Within a single chain of function calls within a module, only the innermost function should return the error, and callers in the same module should only add some logging if that significantly helps to isolate the issue.</li>
<li>In a chain of modules, other than at the VERBOSE level, when a lower-level module detects invalid data coming from a higher-level module, the lower-level module should only log this situation to the DEBUG log, and only if logging provides information that is not otherwise available to the caller. Specifically, there is no need to log situations where an exception is thrown (the exception should contain all the relevant information), or where the only information being logged is contained in an error code. This is especially important in the interaction between the framework and applications, and conditions caused by third-party applications that are properly handled by the framework should not trigger logging higher than the DEBUG level. The only situations that should trigger logging at the INFORMATIVE level or higher is when a module or application detects an error at its own level or coming from a lower level.</li>
<li>When a condition that would normally justify some logging is likely to occur many times, it can be a good idea to implement some rate-limiting mechanism to prevent overflowing the logs with many duplicate copies of the same (or very similar) information.</li>
<li>Losses of network connectivity are considered common, fully expected, and should not be logged gratuitously. A loss of network connectivity that has consequences within an app should be logged at the DEBUG or VERBOSE level (depending on whether the consequences are serious enough and unexpected enough to be logged in a release build).</li>
<li>Having a full filesystem on a filesystem that is accessible to or on behalf of third-party applications should not be logged at a level higher than INFORMATIVE.</li>
<li>Invalid data coming from any untrusted source (including any file on shared storage, or data coming through just about any network connection) is considered expected and should not trigger any logging at a level higher than DEBUG when it’s detected to be invalid (and even then logging should be as limited as possible).</li>
<li>Keep in mind that the <code>+</code> operator, when used on Strings, implicitly creates a <code>StringBuilder</code> with the default buffer size (16 characters) and potentially other temporary String objects, i.e. that explicitly creating StringBuilders isn’t more expensive than relying on the default ‘+’ operator (and can be a lot more efficient in fact). Keep in mind that code that calls <code>Log.v()</code> is compiled and executed on release builds, including building the strings, even if the logs aren’t being read.</li>
<li>Any logging that is meant to be read by other people and to be available in release builds should be terse without being cryptic, and should be reasonably understandable. This includes all logging up to the DEBUG level.</li>
<li>When possible, logging should be kept on a single line if it makes sense. Line lengths up to 80 or 100 characters are perfectly acceptable, while lengths longer than about 130 or 160 characters (including the length of the tag) should be avoided if possible.</li>
<li>Logging that reports successes should never be used at levels higher than VERBOSE.</li>
<li>Temporary logging used to diagnose an issue that is hard to reproduce should be kept at the DEBUG or VERBOSE level and should be enclosed by if blocks that allow for disabling it entirely at compile time.</li>
<li>Be careful about security leaks through the log. Private information should be avoided. Information about protected content must definitely be avoided. This is especially important when writing framework code as it’s not easy to know in advance what will and will not be private information or protected content.</li>
<li><code>System.out.println()</code> (or <code>printf()</code> for native code) should never be used. System.out and System.err get redirected to /dev/null, so your print statements will have no visible effects. However, all the string building that happens for these calls still gets executed.</li>
<li>The golden rule of logging is that your logs may not unnecessarily push other logs out of the buffer, just as others may not push out yours.</li>
</ul>
<h3 id="Be-Consistent"><a href="#Be-Consistent" class="headerlink" title="Be Consistent"></a>Be Consistent</h3><p>Our parting thought: BE CONSISTENT. If you’re editing code, take a few minutes to look at the surrounding code and determine its style. If that code uses spaces around the if clauses, you should too. If the code comments have little boxes of stars around them, make your comments have little boxes of stars around them too.<br>The point of having style guidelines is to have a common vocabulary of coding, so people can concentrate on what you’re saying, rather than on how you’re saying it. We present global style rules here so people know the vocabulary, but local style is also important. If the code you add to a file looks drastically different from the existing code around it, it throws readers out of their rhythm when they go to read it. Try to avoid this.</p>
<h2 id="Javatests-Style-Rules"><a href="#Javatests-Style-Rules" class="headerlink" title="Javatests Style Rules"></a>Javatests Style Rules</h2><p>Follow test method naming conventions and use an underscore to separate what is being tested from the specific case being tested. This style makes it easier to see exactly what cases are being tested. For example:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">testMethod_specificCase1 testMethod_specificCase2</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">testIsDistinguishable_protanopia</span><span class="params">()</span> </span>&#123;</div><div class="line">    ColorMatcher colorMatcher = <span class="keyword">new</span> ColorMatcher(PROTANOPIA)</div><div class="line">    assertFalse(colorMatcher.isDistinguishable(Color.RED, Color.BLACK))</div><div class="line">    assertTrue(colorMatcher.isDistinguishable(Color.X, Color.Y))</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Android/" rel="tag"># Android</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/04/08/2017-04-08-Google-Objective-C-Style-Guide/" rel="next" title="Google Objective-C Style Guide">
                <i class="fa fa-chevron-left"></i> Google Objective-C Style Guide
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/04/09/2017-04-09-Android-Project-and-Code-Guidelines/" rel="prev" title="Android Project and Code Guidelines">
                Android Project and Code Guidelines <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        
<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpeg"
               alt="Guangfeng Wang" />
          <p class="site-author-name" itemprop="name">Guangfeng Wang</p>
           
              <p class="site-description motion-element" itemprop="description">The only way of finding the limits of the possible is by going beyond them into the impossible</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/kwongfung" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/Guangfeng" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/112700656" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/users/6f4d9b8a3650" target="_blank" title="Jianshu">
                  
                    <i class="fa fa-fw fa-link"></i>
                  
                  Jianshu
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-block">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://iissnan.com/progit/" title="Pro Git" target="_blank">Pro Git</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://boxueio.com" title="Boxue" target="_blank">Boxue</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://weex.apache.org/cn/" title="Weex" target="_blank">Weex</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://developer.android.com/studio/index.html" title="Android Studio" target="_blank">Android Studio</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://github.com/vhf/free-programming-books/blob/master/free-programming-books-zh.md" title="Free Books" target="_blank">Free Books</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/CollectionTypes.html" title="Swift" target="_blank">Swift</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-Language-Rules"><span class="nav-number">1.</span> <span class="nav-text">Java Language Rules</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Don’t-Ignore-Exceptions"><span class="nav-number">1.1.</span> <span class="nav-text">Don’t Ignore Exceptions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Don’t-Catch-Generic-Exception"><span class="nav-number">1.2.</span> <span class="nav-text">Don’t Catch Generic Exception</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Don’t-Use-Finalizers"><span class="nav-number">1.3.</span> <span class="nav-text">Don’t Use Finalizers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fully-Qualify-Imports"><span class="nav-number">1.4.</span> <span class="nav-text">Fully Qualify Imports</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-Library-Rules"><span class="nav-number">2.</span> <span class="nav-text">Java Library Rules</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-Style-Rules"><span class="nav-number">3.</span> <span class="nav-text">Java Style Rules</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-Javadoc-Standard-Comments"><span class="nav-number">3.1.</span> <span class="nav-text">Use Javadoc Standard Comments</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Write-Short-Methods"><span class="nav-number">3.2.</span> <span class="nav-text">Write Short Methods</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Define-Fields-in-Standard-Places"><span class="nav-number">3.3.</span> <span class="nav-text">Define Fields in Standard Places</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Limit-Variable-Scope"><span class="nav-number">3.4.</span> <span class="nav-text">Limit Variable Scope</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Order-Import-Statements"><span class="nav-number">3.5.</span> <span class="nav-text">Order Import Statements</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-Spaces-for-Indentation"><span class="nav-number">3.6.</span> <span class="nav-text">Use Spaces for Indentation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Follow-Field-Naming-Conventions"><span class="nav-number">3.7.</span> <span class="nav-text">Follow Field Naming Conventions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-Standard-Brace-Style"><span class="nav-number">3.8.</span> <span class="nav-text">Use Standard Brace Style</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Limit-Line-Length"><span class="nav-number">3.9.</span> <span class="nav-text">Limit Line Length</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-Standard-Java-Annotations"><span class="nav-number">3.10.</span> <span class="nav-text">Use Standard Java Annotations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Treat-Acronyms-as-Words"><span class="nav-number">3.11.</span> <span class="nav-text">Treat Acronyms as Words</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-TODO-Comments"><span class="nav-number">3.12.</span> <span class="nav-text">Use TODO Comments</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Log-Sparingly"><span class="nav-number">3.13.</span> <span class="nav-text">Log Sparingly</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Be-Consistent"><span class="nav-number">3.14.</span> <span class="nav-text">Be Consistent</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Javatests-Style-Rules"><span class="nav-number">4.</span> <span class="nav-text">Javatests Style Rules</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Guangfeng Wang</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

</body>
</html>
